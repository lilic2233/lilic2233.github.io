<!DOCTYPE html>
<html lang="zh">
  <head>
    

    
<script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("use-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script>
    

<meta charset="utf-8" >

<title>微机与单片机</title>
<meta name="keywords" content="微机与单片机, Lilic的博客">
<meta name="description" content="一、绪论
冯·诺依曼计算机由运算、控制、储存、输入、输出五个部件构成
第四代电子计算机以微处理器（MPU）为核心
单片机由中央处理器CPU、储存器RAM、ROM、并行I&#x2F;O、串行I&#x2F;O、定时器&#x2F;计数器、中断系统">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="微机与单片机">
<meta property="og:description" content="一、绪论
冯·诺依曼计算机由运算、控制、储存、输入、输出五个部件构成
第四代电子计算机以微处理器（MPU）为核心
单片机由中央处理器CPU、储存器RAM、ROM、并行I&#x2F;O、串行I&#x2F;O、定时器&#x2F;计数器、中断系统">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" href="/style/main.css">

  <link rel="stylesheet" href="/style/simple-lightbox.min.css"><meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <div id="app" class="main">

<div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://lilic2233.github.io">
        <img class="avatar" src="/images/avatar.png" alt="logo" width="32px" height="32px">
      </a>
      <a href="https://lilic2233.github.io">
        <h1 class="site-title">Lilic的博客</h1>
      </a>
    </div>
    <div class="right">
        <i class="icon menu-switch icon-menu-outline" ></i>
    </div>
  </div>
</div>

<div class="menu-container" style="height: 0;opacity: 0;">
<nav class="menu-list">
  
    
      <a href="/" class="menu purple-link">
        首页
      </a>
    
  
    
      <a href="/tags" class="menu purple-link">
        标签
      </a>
    
  
    
      <a href="/categories" class="menu purple-link">
        分类
      </a>
    
  
    
      <a href="/archives" class="menu purple-link">
        归档
      </a>
    
  
    
      <a href="/about" class="menu purple-link">
        关于
      </a>
    
  
</nav>
</div>



  <div class="content-container">
    <div class="post-detail">
      
      <h2 class="post-title">微机与单片机</h2>
      <div class="post-info post-detail-info">
        <span><i class="icon icon-calendar-outline"></i> 2023-08-01</span>
        
      </div>
      <div class="post-content-wrapper">
        <div class="post-content">
          <h3 id="一、绪论"><a href="#一、绪论" class="headerlink" title="一、绪论"></a>一、绪论</h3><ul>
<li>冯·诺依曼计算机由运算、控制、储存、输入、输出五个部件构成</li>
<li>第四代电子计算机以微处理器（MPU）为核心</li>
<li>单片机由中央处理器CPU、储存器RAM、ROM、并行I&#x2F;O、串行I&#x2F;O、定时器&#x2F;计数器、中断系统、系统时钟电路和总线8个构成</li>
</ul>
<h3 id="二、微型计算机组成与结构"><a href="#二、微型计算机组成与结构" class="headerlink" title="二、微型计算机组成与结构"></a>二、微型计算机组成与结构</h3><ul>
<li>计算机由硬件和软件组成</li>
<li>运算器进行算术运算、逻辑运算、数据转换</li>
<li>控制器是从内存期初指令的</li>
<li>指令告诉控制器做什么，数据从哪来到哪去</li>
<li>指令由操作码和地址码构成，操作码说明执行的操作，地址码说明数据的来源和去向</li>
<li>指令放在存储器里，叫做储存程序</li>
<li>控制器靠储存的程序执行叫做程序控制</li>
<li>冯诺依曼设计思想的核心在于储存程序和程序控制</li>
<li>储存器，一个触发器有两个状态可以表示一位二进制数，16位数要16个触发器</li>
<li>保存一个数的所有触发器合起来叫做一个存储单元，每个单元的编号叫做地址</li>
<li>所有储存单元的数量叫做存储容量</li>
<li>中央处理器CPU：CPU &#x3D; 运算器 + 控制器</li>
<li>计算机主机：主机 &#x3D; 中央处理器 + 主存储器</li>
<li>一个8位中央处理器</li>
<li>一个片内振荡器和时钟电路</li>
<li>4KB片内程序存储器</li>
<li>256字节片内RAM</li>
<li>4个8位并行的双向I&#x2F;O口</li>
<li>2个16位定时器&#x2F;计数器</li>
<li>1个全双工串行口</li>
<li>5个中断源</li>
<li>累加器Acc是8位寄存器</li>
<li>PSW是一个8位的特殊功能寄存器，存放状态信息，包括进位信息C，半进位标志位AC，RS1和RS0是选择当前工作的寄存器，ov是溢出标志位，p奇偶校验位，奇数个1为1<br><a class="simple-lightbox" href="/images/%E5%BE%AE%E6%9C%BA%E4%B8%8E%E5%8D%95%E7%89%87%E6%9C%BA/%E5%8D%95%E7%89%87%E6%9C%BA%E5%BC%95%E8%84%9A.png"><img   src="/images/loading.svg" data-src="/images/%E5%BE%AE%E6%9C%BA%E4%B8%8E%E5%8D%95%E7%89%87%E6%9C%BA/%E5%8D%95%E7%89%87%E6%9C%BA%E5%BC%95%E8%84%9A.png"  alt="单片机引脚" lazyload></a></li>
</ul>
<p>五个中断源</p>
<table>
<thead>
<tr>
<th>5个中断源</th>
<th align="right">中断入口地址</th>
</tr>
</thead>
<tbody><tr>
<td>外部中断0</td>
<td align="right">0003H</td>
</tr>
<tr>
<td>定时器&#x2F;计数器0溢出中断</td>
<td align="right">000BH</td>
</tr>
<tr>
<td>外部中断1</td>
<td align="right">0013H</td>
</tr>
<tr>
<td>定时器&#x2F;计数器1溢出中断</td>
<td align="right">001BH</td>
</tr>
<tr>
<td>串行中断</td>
<td align="right">0023H</td>
</tr>
</tbody></table>
<p>数据存储器RAM分为低一百二十八字节，和高一百二十八字节<br>低一百二十八字节存放四组通用寄存器区，位寻址区和用户RAM区<br>高一百二十八单元是特殊功能寄存器区SFR<br>低128单元从00H~7FH<br>高128单元从80H~FFH</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>符号</th>
<th align="right">名称</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>B</td>
<td align="right">B寄存器</td>
</tr>
<tr>
<td>2</td>
<td>ACC</td>
<td align="right">累加器</td>
</tr>
<tr>
<td>3</td>
<td>PSW</td>
<td align="right">程序状态字</td>
</tr>
<tr>
<td>4</td>
<td>P0</td>
<td align="right">P0口锁存器</td>
</tr>
<tr>
<td>5</td>
<td>P1</td>
<td align="right">P1口锁存器</td>
</tr>
<tr>
<td>6</td>
<td>P2</td>
<td align="right">P2口锁存器</td>
</tr>
<tr>
<td>7</td>
<td>P3</td>
<td align="right">P3口锁存器</td>
</tr>
<tr>
<td>8</td>
<td>TL0</td>
<td align="right">T0的低八位</td>
</tr>
<tr>
<td>9</td>
<td>TH0</td>
<td align="right">T0的高八位</td>
</tr>
<tr>
<td>10</td>
<td>TL1</td>
<td align="right">T1的低八位</td>
</tr>
<tr>
<td>11</td>
<td>TH1</td>
<td align="right">T1的高八位</td>
</tr>
<tr>
<td>12</td>
<td>DPL</td>
<td align="right">DPTR的低8位</td>
</tr>
<tr>
<td>13</td>
<td>DPH</td>
<td align="right">DPTR的高8位</td>
</tr>
<tr>
<td>14</td>
<td>IP</td>
<td align="right">中断优先级控制器</td>
</tr>
<tr>
<td>15</td>
<td>IE</td>
<td align="right">中断允许控制寄存器</td>
</tr>
<tr>
<td>16</td>
<td>TMOD</td>
<td align="right">定时&#x2F;计数器工作方式寄存器</td>
</tr>
<tr>
<td>17</td>
<td>TCON</td>
<td align="right">定时器控制寄存器</td>
</tr>
<tr>
<td>18</td>
<td>PCON</td>
<td align="right">电源控制寄存器</td>
</tr>
<tr>
<td>19</td>
<td>SP</td>
<td align="right">堆栈指针</td>
</tr>
<tr>
<td>20</td>
<td>SBUF</td>
<td align="right">串行数据缓冲器</td>
</tr>
<tr>
<td>21</td>
<td>SCON</td>
<td align="right">串行控制寄存器</td>
</tr>
</tbody></table>
<p>注：TOT1不是特殊功能寄存器，而是TH0TH1TL0TL1</p>
<p>1个机器周期&#x3D;6个状态周期&#x3D;12个振荡周期<br>振荡周期&#x3D;晶振频率的倒数<br>指令周期是1到4个机器周期<br>复位的条件，RST端保持至少2个机器周期的高电平<br>复位方式有三种：上电复位，按键电平复位，按键脉冲复位<br>复位后，特殊功能寄存器回到初始状态，其中SP&#x3D;07H，P0到P3&#x3D;FFH（悬1）</p>
<p>P0口：可以位寻址，扩展时作为低8位数据线，也可以作为通用I&#x2F;O口<br>P1口：通用I&#x2F;O口，没有第二功能<br>P2口：可以位寻址，扩展时作为高8位数据线，也可以作为通用I&#x2F;O口<br>P3口：每一位都有第二功能，也可以作为通用I&#x2F;O口</p>
<table>
<thead>
<tr>
<th>P3口</th>
<th align="right">功能</th>
</tr>
</thead>
<tbody><tr>
<td>P3.0</td>
<td align="right">RXD串行输入口</td>
</tr>
<tr>
<td>P3.1</td>
<td align="right">TXD串行输出口</td>
</tr>
<tr>
<td>P3.2</td>
<td align="right">反INTO外部中断0</td>
</tr>
<tr>
<td>P3.3</td>
<td align="right">反INTO外部中断1</td>
</tr>
<tr>
<td>P3.4</td>
<td align="right">T0定时器0外部输入</td>
</tr>
<tr>
<td>P3.5</td>
<td align="right">T1定时器1外部输入</td>
</tr>
<tr>
<td>P3.6</td>
<td align="right">反WR外部数据存储器写选通</td>
</tr>
<tr>
<td>P3.7</td>
<td align="right">反RD部数据存储器写选通</td>
</tr>
</tbody></table>
<h3 id="三、单片机汇编语言指令系统"><a href="#三、单片机汇编语言指令系统" class="headerlink" title="三、单片机汇编语言指令系统"></a>三、单片机汇编语言指令系统</h3><p>完整指令：<br><strong>标号:操作码 操作数;注释</strong><br>其中标号、操作数和注释有时候没有</p>
<table>
<thead>
<tr>
<th>操作码</th>
<th align="right">功能</th>
</tr>
</thead>
<tbody><tr>
<td>Rn</td>
<td align="right">n取工作寄存器组的R0~R7</td>
</tr>
<tr>
<td>Ri</td>
<td align="right">取R0和R1</td>
</tr>
<tr>
<td>dir</td>
<td align="right">8位直接地址</td>
</tr>
<tr>
<td>(dir)</td>
<td align="right">8位直接地址单元中的内容</td>
</tr>
<tr>
<td>#data</td>
<td align="right">8位立即数</td>
</tr>
<tr>
<td>#data16</td>
<td align="right">16位立即数</td>
</tr>
<tr>
<td>addr16</td>
<td align="right">16位地址值</td>
</tr>
<tr>
<td>addr11</td>
<td align="right">11位地址值</td>
</tr>
<tr>
<td>bit</td>
<td align="right">位地址</td>
</tr>
<tr>
<td>rel</td>
<td align="right">相对偏移量，1字节补码数</td>
</tr>
<tr>
<td>@</td>
<td align="right">间接寄存器或基地址寄存器的前缀</td>
</tr>
<tr>
<td>DPTR</td>
<td align="right">16位外部数据指针寄存器</td>
</tr>
<tr>
<td>A</td>
<td align="right">累加器</td>
</tr>
<tr>
<td>B</td>
<td align="right">寄存器B</td>
</tr>
<tr>
<td>C</td>
<td align="right">进位位，借位或累加器</td>
</tr>
<tr>
<td>$</td>
<td align="right">本条指令的起始地址</td>
</tr>
<tr>
<td>寻址方式：</td>
<td align="right"></td>
</tr>
<tr>
<td>1.寄存器寻址</td>
<td align="right"></td>
</tr>
<tr>
<td>2.直接寻址</td>
<td align="right"></td>
</tr>
<tr>
<td>3.寄存器间接寻址</td>
<td align="right"></td>
</tr>
<tr>
<td>4.立即寻址</td>
<td align="right"></td>
</tr>
<tr>
<td>5.变址寻址</td>
<td align="right"></td>
</tr>
<tr>
<td>6.相对寻址</td>
<td align="right"></td>
</tr>
<tr>
<td>7.位寻址</td>
<td align="right"></td>
</tr>
</tbody></table>
<p>1.寄存器寻址<br>寻址范围包括：<br>通用寄存器R0~R7<br>特殊功能寄存器A、B、DPTR<br>例如 MOV A,R0;<br>2.直接寻址<br>直接给出操作数的地址<br>直接地址可以是特殊功能寄存器和内部RAM低128字节<br>例如  MOV A,30H;<br>3.寄存器间接寻址<br>能用于间接寻址的有：R0,R1,DPTR,SP<br>寻址范围：<br>（1）内部RAM低128个单元，通用形式为@Ri<br>（2）对片外数据存储器的64K字节间接寻址<br>（3）堆栈区：堆栈指令PUSH和POP用SP作为简介地址寄存器<br>4.立即寻址<br>有8位和16位<br>用#表示<br>eg:MOV A,#0FH;<br>5.变址寻址<br>地址为：PC或DPTR+A<br>只能对程序存储器ROM的数据进行操作，64KB，通常用于查表操作<br>MOVC A,@A+DPTR;<br>MOVC A,@A+PC;<br>JMP @A+DPTR;跳转<br>6.相对寻址<br>SJMP rel<br>地址偏移量用rel表示，rel是1个有符号的8位二进制补码，范围是-128~127<br>转移的目的地址&#x3D;转移指令地址+转移指令字节数+rel<br>程序存储器<br>7.位寻址<br>寻址范围：<br>（1）内部RAM的位寻址区<br>（2）特殊功能寄存器的可寻址位<br>eg：<br>SETB 20H;<br>MOV 32H,C;</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
        </div>
        <div class="top-div">
          <ol class="top-box"><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E4%B8%80%E3%80%81%E7%BB%AA%E8%AE%BA"><span class="top-box-text">一、绪论</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E4%BA%8C%E3%80%81%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="top-box-text">二、微型计算机组成与结构</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E4%B8%89%E3%80%81%E5%8D%95%E7%89%87%E6%9C%BA%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F"><span class="top-box-text">三、单片机汇编语言指令系统</span></a></li></ol>
        </div>
      </div>
    </div>

    
      <div class="next-post">
        <a class="purple-link" href="/2023/07/27/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/">
          <h3 class="post-title">
            下一篇：实用工具教程
          </h3>
        </a>
      </div>
    
  </div>










<footer>
<div class="site-footer">
  <div class="social-container">
    
      
        <a aria-label="跳转至github" href="https://github.com/f-dong" target="_blank">
          <i class="icon icon-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
  
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <a href="https://github.com/f-dong/hexo-theme-minimalism" target="_blank">Theme</a>
  
  
  
  
  
  
</div>
</footer>


      </div>
    </div>
    
<script id="hexo-configurations"> window.theme_config = {"image":{"lazyload_enable":true,"photo_zoom":"simple-lightbox"}}; window.is_post = true; </script>

<script src="/js/main.js"></script>






  <script src="/js/simple-lightbox.min.js"></script><script>document.addEventListener('DOMContentLoaded', function() {new SimpleLightbox('.post-detail .simple-lightbox', {fileExt: false,captionsData:'alt'});});</script></body>
</html>

